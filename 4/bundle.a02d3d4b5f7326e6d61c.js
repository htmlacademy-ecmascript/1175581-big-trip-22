(()=>{"use strict";function e(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function t(e,t,n="beforeend"){t.insertAdjacentElement(n,e.getElement())}class n{getTemplate(){return'<section class="trip-main__trip-info  trip-info">\n  <div class="trip-info__main">\n    <h1 class="trip-info__title">Amsterdam &mdash; Chamonix &mdash; Geneva</h1>\n\n    <p class="trip-info__dates">18&nbsp;&mdash;&nbsp;20 Mar</p>\n  </div>\n\n  <p class="trip-info__cost">\n    Total: &euro;&nbsp;<span class="trip-info__cost-value">1230</span>\n  </p>\n</section>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class i{getTemplate(){return'<form class="trip-filters" action="#" method="get">\n    <div class="trip-filters__filter">\n      <input id="filter-everything" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="everything">\n      <label class="trip-filters__filter-label" for="filter-everything">Everything</label>\n    </div>\n\n    <div class="trip-filters__filter">\n      <input id="filter-future" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="future">\n      <label class="trip-filters__filter-label" for="filter-future">Future</label>\n    </div>\n\n    <div class="trip-filters__filter">\n      <input id="filter-present" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="present">\n      <label class="trip-filters__filter-label" for="filter-present">Present</label>\n    </div>\n\n    <div class="trip-filters__filter">\n      <input id="filter-past" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="past" checked>\n      <label class="trip-filters__filter-label" for="filter-past">Past</label>\n    </div>\n\n    <button class="visually-hidden" type="submit">Accept filter</button>\n    </form>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class s{getTemplate(){return'          <form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n    <div class="trip-sort__item  trip-sort__item--day">\n      <input id="sort-day" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-day">\n      <label class="trip-sort__btn" for="sort-day">Day</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--event">\n      <input id="sort-event" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-event" disabled>\n      <label class="trip-sort__btn" for="sort-event">Event</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--time">\n      <input id="sort-time" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-time">\n      <label class="trip-sort__btn" for="sort-time">Time</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--price">\n      <input id="sort-price" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-price" checked>\n      <label class="trip-sort__btn" for="sort-price">Price</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--offer">\n      <input id="sort-offer" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-offer" disabled>\n      <label class="trip-sort__btn" for="sort-offer">Offers</label>\n    </div>\n  </form>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElelement(){this.element=null}}class l{getTemplate(){return'<ul class="trip-events__list">\n  </ul>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class r{getTemplate(){return'<li class="trip-events__item">\n  </li>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class o{getTemplate(){return'<form class="event event--edit" action="#" method="post">\n      </form>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class a{getTemplate(){return'<header class="event__header">\n  <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n  <button class="event__reset-btn" type="reset">Cancel</button>\n</header>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class m{getTemplate(){return'<div class="event__field-group  event__field-group--price">\n  <label class="event__label" for="event-price-1">\n    <span class="visually-hidden">Price</span>\n    &euro;\n  </label>\n  <input class="event__input  event__input--price" id="event-price-1" type="text" name="event-price" value="">\n  </div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class p{getTemplate(){return'<div class="event__field-group  event__field-group--time">\n  <label class="visually-hidden" for="event-start-time-1">From</label>\n  <input class="event__input  event__input--time" id="event-start-time-1" type="text" name="event-start-time" value="19/03/19 00:00">\n  &mdash;\n  <label class="visually-hidden" for="event-end-time-1">To</label>\n  <input class="event__input  event__input--time" id="event-end-time-1" type="text" name="event-end-time" value="19/03/19 00:00">\n</div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class h{constructor(e){this.destination=e}getTemplate(){return function(e){const{name:t,type:n}=e;return`<div class="event__field-group  event__field-group--destination">\n  <label class="event__label  event__type-output" for="event-destination-1">\n    ${n}\n  </label>\n  <input class="event__input  event__input--destination" id="event-destination-1" type="text" name="event-destination" value="${t}" list="destination-list-1">\n</div>`}(this.destination)}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class v{getTemplate(){return'<datalist id="destination-list-1">\n</datalist>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class c{constructor(e){this.city=e}getTemplate(){return`<option value="${this.city}">\n  </option>`}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class d{constructor(e){this.destination=e}getTemplate(){return function(e){const{type:t}=e;return`<div class="event__type-wrapper">\n  <label class="event__type  event__type-btn" for="event-type-toggle-1">\n    <span class="visually-hidden">Choose event type</span>\n    <img class="event__type-icon" width="17" height="17" src="img/icons/${t.toLowerCase()}.png" alt="Event type icon">\n  </label>\n  <input class="event__type-toggle  visually-hidden" id="event-type-toggle-1" type="checkbox">\n  </div>`}(this.destination)}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class u{getTemplate(){return'<div class="event__type-list">\n  </div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class _{getTemplate(){return'<fieldset class="event__type-group">\n  <legend class="visually-hidden">Event type</legend>\n\n</fieldset>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class f{constructor(e){this.type=e}getTemplate(){return`<div class="event__type-item">\n  <input id="event-type-bus-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="${e=this.type}">\n  <label class="event__type-label  event__type-label--type" for="event-type-bus-1">${e}</label>\n  </div>\n  `;var e}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class g{getTemplate(){return'<section class="event__details">\n  </section>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class y{getTemplate(){return'<section class="event__section  event__section--offers">\n  <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n  </section>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class E{constructor(e){this.destination=e}getTemplate(){return function(e){const{description:t}=e;return`<section class="event__section  event__section--destination">\n  <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n  <p class="event__destination-description">${t}</p>\n</section>`}(this.destination)}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class b{getTemplate(){return'<div class="event__photos-container">\n  </div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class T{getTemplate(){return'<div class="event__photos-tape">\n  </div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class C{constructor(e){this.photo=e}getTemplate(){return`<img class="event__photo"\n  src="${this.photo}" alt="Event photo">`}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class ${getTemplate(){return'<div class="event__available-offers">\n  </div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class w{constructor(e){this.offer=e}getTemplate(){return function(e){const{name:t,price:n,isActive:i}=e;return`<div class="event__offer-selector">\n  <input class="event__offer-checkbox  visually-hidden" id="event-offer-luggage-1" type="checkbox" name="event-offer-luggage" ${i?"checked":""}>\n  <label class="event__offer-label" for="event-offer-luggage-1">\n    <span class="event__offer-title">${t}</span>\n    &plus;&euro;&nbsp;\n    <span class="event__offer-price">3${n}</span>\n  </label>\n</div>`}(this.offer)}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class D{constructor(e){this.event=e}getTemplate(){return function(e){const{date:t,typeTrip:n,city:i,timeBegin:s,timeEnd:l,durationTime:r,price:o,isFavorite:a,offers:m}=e;return`<li class="trip-events__item">\n  <div class="event">\n    <time class="event__date" datetime="2019-03-18">${t}</time>\n    <div class="event__type">\n      <img class="event__type-icon" width="42" height="42" src="img/icons/${n.toLowerCase()}.png" alt="Event type icon">\n    </div>\n    <h3 class="event__title">${n} ${i.name}</h3>\n    <div class="event__schedule">\n      <p class="event__time">\n        <time class="event__start-time" datetime="2019-03-18T10:30">${s}</time>\n        &mdash;\n        <time class="event__end-time" datetime="2019-03-18T11:00">${l}</time>\n      </p>\n      <p class="event__duration">${r}</p>\n    </div>\n    <p class="event__price">\n      &euro;&nbsp;<span class="event__price-value">${o}</span>\n    </p>\n    <h4 class="visually-hidden">Offers:</h4>\n    <ul class="event__selected-offers">\n      <li class="event__offer">\n        <span class="event__offer-title">${m.name}</span>\n        &plus;&euro;&nbsp;\n        <span class="event__offer-price">${m.price}</span>\n      </li>\n    </ul>\n    <button class="event__favorite-btn ${a?"event__favorite-btn--active":""}" type="button">\n      <span class="visually-hidden">Add to favorite</span>\n      <svg class="event__favorite-icon" width="28" height="28" viewBox="0 0 28 28">\n        <path d="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"/>\n      </svg>\n    </button>\n    <button class="event__rollup-btn" type="button">\n      <span class="visually-hidden">Open event</span>\n    </button>\n  </div>\n</li>`}(this.event)}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}const F=e=>e[Math.floor(Math.random()*(e.length-1))],A=()=>Math.floor(99*Math.random()),k=["Taxi","Bus","Train","Ship","Flight","Drive","Check-in","Sightseeing","Restaurant"],M=[{name:"Add luggage",price:30,isActive:!0},{name:"Switch to comfort class",price:30,isActive:!1},{name:"Add meal",price:30,isActive:!0},{name:"Choose seats",price:30,isActive:!1},{name:"Travel by train",price:30,isActive:!0}],P=[{name:"Amsterdam",description:" столица и крупнейший город Нидерландов. Является столицей королевства с 1814 года.",photos:[`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`],offers:M,type:F(k)},{name:"Chamonix",description:"город и коммуна на востоке Франции, в департаменте Верхняя Савойя (историческая область Савойя).",photos:[`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`],offers:M,type:F(k)},{name:"Geneva",description:"город на юго-западе Швейцарии. Столица одноимённого франкоязычного кантона и административный центр одноимённой коммуны.",photos:[`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`,`https://loremflickr.com/248/152?random=${A()}`],offers:M,type:F(k)}],x=[{date:"APR19",typeTrip:F(k),city:F(P),timeBegin:"10:30",timeEnd:"11:20",durationTime:"50M",price:"20",isFavorite:!0,offers:F(M)},{date:"APR20",typeTrip:F(k),city:F(P),timeBegin:"12:40",timeEnd:"13:20",durationTime:"40M",price:"30",isFavorite:!1,offers:F(M)},{date:"APR21",typeTrip:F(k),city:F(P),timeBegin:"13:30",timeEnd:"14:00",durationTime:"30M",price:"40",isFavorite:!0,offers:F(M)},{date:"APR22",typeTrip:F(k),city:F(P),timeBegin:"15:00",timeEnd:"15:20",durationTime:"20M",price:"50",isFavorite:!1,offers:F(P)},{date:"APR23",typeTrip:F(k),city:F(P),timeBegin:"16:30",timeEnd:"16:40",durationTime:"10M",price:"60",isFavorite:!0,offers:F(M)}],L=()=>F(x),O={cities:["Amsterdam","Chamonix","Geneva"],destination:F(P),types:k,offers:M},B=document.querySelector(".trip-controls__filters"),H=document.querySelector(".trip-main"),S=document.querySelector(".trip-events"),G=new class{events=Array.from({length:5},L);getEvents(){return this.events}},R=new class{editFormData=O;getEditFormData(){return this.editFormData}},q=new class{eventsListComponent=new l;editFormItemComponent=new r;editFormComponent=new o;eventHeaderComponent=new a;eventDataListComponent=new v;eventTypelistComponent=new u;eventTypeGroupComponent=new _;eventDetailsComponent=new g;eventsOffersComponent=new y;eventsAvailableOffersComponent=new $;eventPhotoContainerComponent=new b;eventPhotoTapeComponent=new T;constructor({tripElement:e,eventsElement:t,filtersElement:n,eventsModel:i,editFormModel:s}){this.tripElement=e,this.filtersElement=n,this.eventsElement=t,this.eventsModel=i,this.editFormModel=s}init(){this.events=[...this.eventsModel.getEvents()],this.formData=this.editFormModel.getEditFormData(),this.eventTypeWrapperComponent=new d(this.formData.destination),this.eventDestinationComponent=new E(this.formData.destination),this.eventDestinationFieldComponent=new h(this.formData.destination),t(new n,this.tripElement,"afterbegin"),t(new i,this.filtersElement),t(new s,this.eventsElement),t(this.eventsListComponent,this.eventsElement),t(this.editFormItemComponent,this.eventsListComponent.getElement()),t(this.editFormComponent,this.editFormItemComponent.getElement()),t(this.eventHeaderComponent,this.editFormComponent.getElement()),t(new m,this.eventHeaderComponent.getElement(),"afterbegin"),t(new p,this.eventHeaderComponent.getElement(),"afterbegin"),t(this.eventDestinationFieldComponent,this.eventHeaderComponent.getElement(),"afterbegin"),t(this.eventDataListComponent,this.eventDestinationFieldComponent.getElement()),t(this.eventTypeWrapperComponent,this.eventHeaderComponent.getElement(),"afterbegin"),t(this.eventTypelistComponent,this.eventTypeWrapperComponent.getElement()),t(this.eventTypeGroupComponent,this.eventTypelistComponent.getElement()),t(this.eventDetailsComponent,this.editFormComponent.getElement()),t(this.eventsOffersComponent,this.eventDetailsComponent.getElement()),t(this.eventDestinationComponent,this.eventDetailsComponent.getElement()),t(this.eventPhotoContainerComponent,this.eventDestinationComponent.getElement()),t(this.eventPhotoTapeComponent,this.eventPhotoContainerComponent.getElement()),t(this.eventsAvailableOffersComponent,this.eventsOffersComponent.getElement());for(let e=0;e<this.formData.cities.length;e++)t(new c(this.formData.cities[e]),this.eventDataListComponent.getElement());for(let e=0;e<this.formData.destination.photos.length;e++)t(new C(this.formData.destination.photos[e]),this.eventPhotoTapeComponent.getElement());for(let e=0;e<this.formData.offers.length;e++)t(new w(this.formData.offers[e]),this.eventsAvailableOffersComponent.getElement());for(let e=0;e<this.formData.types.length;e++)t(new f(this.formData.types[e]),this.eventTypeGroupComponent.getElement());for(let e=0;e<this.events.length;e++)t(new D(this.events[e]),this.eventsListComponent.getElement())}}({tripElement:H,eventsElement:S,filtersElement:B,eventsModel:G,editFormModel:R});q.init()})();
//# sourceMappingURL=bundle.a02d3d4b5f7326e6d61c.js.map